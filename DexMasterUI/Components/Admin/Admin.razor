@page "/admin"

<MudOverlay @bind-Visible="_showLoadingArt" DarkBackground="true" ZIndex="9999" AutoClose="true">
     <MudProgressCircular Color="Color.Secondary" Indeterminate="true" />
</MudOverlay>

<MudGrid>
    <MudItem lg="2">
        <MudButton Variant="Variant.Outlined" Color="Color.Primary" @onclick="GenerateRandomUsers">
            Generate Sample Random User Data
        </MudButton>
    </MudItem>
</MudGrid>

@code {

    private bool _showLoadingArt;

    private async Task GenerateRandomUsers()
    {
        _showLoadingArt = true;
        StateHasChanged();

        var fakeUsers = new Faker<User>()
            .RuleFor(u => u.Username, f => f.Person.Random.Words(1));

        await userData.CreateMultipleUsersAsync(fakeUsers.Generate(15));

        _showLoadingArt = false;
        StateHasChanged();
    }
}